<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Update Boat Properties</title>
</head>
<body>
<h1>Update Boat Properties</h1>

<!-- Update Boat Name -->
<h2>Update Boat Name</h2>
<label for="newName">Enter New Name:</label>
<input type="text" id="newName" placeholder="Enter new name" />
<button onclick="updateBoatProperty('name')">Update Name</button>

<!-- Update Boat Type -->
<h2>Update Boat Type</h2>
<label for="newType">Enter New Type:</label>
<input type="text" id="newType" placeholder="Enter new type" />
<button onclick="updateBoatProperty('type')">Update Type</button>

<!-- Update Boat Manufacturer -->
<h2>Update Boat Manufacturer</h2>
<label for="newManufacturer">Enter New Manufacturer:</label>
<input type="text" id="newManufacturer" placeholder="Enter new manufacturer" />
<button onclick="updateBoatProperty('manufacturer')">Update Manufacturer</button>

<!-- Update Boat Length -->
<h2>Update Boat Length</h2>
<label for="newLength">Enter New Length:</label>
<input type="number" id="newLength" placeholder="Enter new length" />
<button onclick="updateBoatProperty('length')">Update Length</button>

<!-- Update Boat Width -->
<h2>Update Boat Width</h2>
<label for="newWidth">Enter New Width:</label>
<input type="number" id="newWidth" placeholder="Enter new width" />
<button onclick="updateBoatProperty('width')">Update Width</button>

<!-- Update Boat Draught -->
<h2>Update Boat Draught</h2>
<label for="newDraught">Enter New Draught:</label>
<input type="number" id="newDraught" placeholder="Enter new draught" />
<button onclick="updateBoatProperty('draught')">Update Draught</button>

<!-- Update Boat Insurance -->
<h2>Update Boat Insurance</h2>
<label for="newInsurance">Enter New Insurance:</label>
<input type="text" id="newInsurance" placeholder="Enter new insurance" />
<button onclick="updateBoatProperty('insurance')">Update Insurance</button>

<!-- Update Boat Berth ID -->
<h2>Update Boat Berth ID</h2>
<label for="newBerthID">Enter New Berth ID:</label>
<input type="number" id="newBerthID" placeholder="Enter new berth ID" />
<button onclick="updateBoatProperty('berth')">Update Berth ID</button>

<!-- Update Boat Member ID -->
<h2>Update Boat Member ID</h2>
<label for="newMemberID">Enter New Member ID:</label>
<input type="number" id="newMemberID" placeholder="Enter new member ID" />
<button onclick="updateBoatProperty('member')">Update Member ID</button>

<!-- Update Boat ID -->
<h2>Update Boat ID</h2>
<label for="newBoatID">Update Boat ID:</label>
<input type="number" id="newBoatID" placeholder="Update Boat ID" />
<button onclick="updateBoatProperty('boat')">Update Boat ID</button>

<h2> Get Length</h2>

<script>
    const boatId = 33;  // Change this to the boat ID you want to update

    // Function to handle updating various boat properties
    function updateBoatProperty(property) {
        let value;
        switch(property) {
            case 'name':
                value = document.getElementById("newName").value;
                break;
            case 'type':
                value = document.getElementById("newType").value;
                break;
            case 'manufacturer':
                value = document.getElementById("newManufacturer").value;
                break;
            case 'length':
                value = document.getElementById("newLength").value;
                break;
            case 'width':
                value = document.getElementById("newWidth").value;
                break;
            case 'draught':
                value = document.getElementById("newDraught").value;
                break;
            case 'insurance':
                value = document.getElementById("newInsurance").value;
                break;
            case 'berth':
                value = document.getElementById("newBerthID").value;
                break;
            case 'member':
                value = document.getElementById("newMemberID").value;
                break;
            default:
                alert('Unknown property');
                return;
        }

        // Prepare the data for the fetch request
        const url = `/boats/update/${property}/${boatId}`;
        const body = (property === 'length' || property === 'width' || property === 'draught' || property === 'berth' || property === 'member')
            ? JSON.stringify(Number(value))  // Convert to number if it's a numerical field
            : JSON.stringify(value);  // Otherwise, send as a string

        // Send the PUT request to the backend to update the specific property
        fetch(url, {
            method: 'PUT',
            headers: {
                'Content-Type': 'application/json',
            },
            body: body,
        })
            .then(response => response.json())
            .then(data => {
                if (data) {
                    alert(`${property.charAt(0).toUpperCase() + property.slice(1)} updated successfully to: ${data[property]}`);
                } else {
                    alert("Error: boat not found.");
                }
            })
            .catch(error => {
                console.error("Error:", error);
                alert("Error updating boat property.");
            });
    }
</script>
</body>
</html>
