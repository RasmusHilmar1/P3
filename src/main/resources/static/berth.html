<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Update Member Name</title>
</head>
<body>
<h1>Update Berth Name</h1>
<label for="newName">Enter New Name:</label>
<input type="text" id="newName" placeholder="Enter new name" />
<button onclick="updateBerthName()">Update Name</button>

<h1>Update Berth Information</h1>
<label for="name">Name:</label>
<input type="text" id="name" placeholder="Enter name">

<label for="length">Length:</label>
<input type="number" id="length" placeholder="Enter length">

<label for="width">Width:</label>
<input type="number" id="width" placeholder="Enter width">

<label for="depth">Depth:</label>
<input type="number" id="depth" placeholder="Enter depth">
<button onclick="updateBerthInformation()">Update information</button>

<script>
  function updateBerthName() {
    const newName = document.getElementById("newName").value;
    const berthId = 9999;  // ID of the member you want to update (for example, Member 10)

    // Send a PUT request to the backend to update the name
    fetch(`/Berths/update/${berthId}`, {
      method: 'PUT',
      headers: {
        'Content-Type': 'application/json',
      },
      body: JSON.stringify(newName),  // Send the new name in the body
    })
            .then(response => response.json())
            .then(data => {
              if (data) {
                alert("Name updated successfully to: " + data.name);
              } else {
                alert("Error: Member not found.");
              }
            })
            .catch(error => {
              console.error("Error:", error);
              alert("Error updating member name.");
            });
  }
  function updateBerthInformation() {
    const newName = document.getElementById("name").value
    const newLength = document.getElementById("length").value;
    const newWidth = document.getElementById("width").value;
    const newDepth = document.getElementById("depth").value
    const berthId = 9999;  // ID of berth to update

    const updatedInfo = {};
    if (newName) {
      updatedInfo.name = newName;
    }
    if (newLength) {
      updatedInfo.length = newLength;
    }
    if (newWidth) {
      updatedInfo.width = newWidth;
    }
    if (newDepth) {
      updatedInfo.depth = newDepth;
    }
    // Send a PUT request to the backend to update the Berth information
    fetch(`/Berths/update/information/${berthId}`, {
      method: 'PUT',
              headers: {
        'Content-Type': 'application/json',
      },
      body: JSON.stringify(updatedInfo)  // Send the updated info in json format
    })
  .then(response => response.json())
            .then(data => {
              if (data) {
                alert("information successfully updated");
              } else {
                alert("Error: Member not found.");
              }
            })
            .catch(error => {
              console.error("Error:", error);
              alert("Error updating member name.");
            });
  }
</script>
</body>
</html>
